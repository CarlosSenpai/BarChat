{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\acost\\\\Desktop\\\\BarChat\\\\client\\\\src\\\\components\\\\MainPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport NavBar from './NavBar';\nimport profileImage from '../images/profile.png';\nimport infoLogo from '../images/information.png';\nimport messageImage from '../images/message.png';\nimport discoverImage from '../images/location.png';\nimport Cookies from 'js-cookie';\nimport jwtDecode from 'jwt-decode';\nimport axios from 'axios';\nimport '../App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst MainPage = props => {\n  _s();\n\n  const [user, setUser] = useState(\"\");\n  const navigate = useNavigate();\n  useEffect(() => {\n    const userToken = Cookies.get('userToken');\n\n    if (userToken) {\n      const user = jwtDecode(userToken);\n      setUser(user);\n    }\n  }, []);\n\n  const handleLogout = () => {\n    axios.post(`http://localhost:8000/api/users/logout`, {}, {\n      withCredentials: true\n    }).then(res => {\n      Cookies.remove('userToken');\n      setUser('null');\n      navigate('/');\n    }).catch(err => console.log('Logout Error', err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"div\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/profile/${user._id}`,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: profileImage,\n          alt: \"profile pic\",\n          className: \"image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"div\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/app/info\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: infoLogo,\n          alt: \"info logo pic\",\n          className: \"image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Information\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"div\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/barchat/${user._id}`,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: messageImage,\n          alt: \"message pic\",\n          className: \"image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Chat \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"div\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: `/discover/${user._id}`,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: discoverImage,\n          alt: \"discover pic\",\n          className: \"image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }, this), user ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Welcome back \", user.name, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No one is here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(MainPage, \"TNE/B+4A9ax/o5ITpJF2VWuciMo=\", false, function () {\n  return [useNavigate];\n});\n\n_c = MainPage;\nexport default MainPage; //Image source: <a href=\"https://www.flaticon.com/free-icons/info\" title=\"info icons\">Info icons created by th studio - Flaticon</a>\n\nvar _c;\n\n$RefreshReg$(_c, \"MainPage\");","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","NavBar","profileImage","infoLogo","messageImage","discoverImage","Cookies","jwtDecode","axios","MainPage","props","user","setUser","navigate","userToken","get","handleLogout","post","withCredentials","then","res","remove","catch","err","console","log","_id","name"],"sources":["C:/Users/acost/Desktop/BarChat/client/src/components/MainPage.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {Link, useNavigate} from 'react-router-dom';\r\nimport NavBar from './NavBar';\r\nimport profileImage from '../images/profile.png';\r\nimport infoLogo from '../images/information.png';\r\nimport messageImage from '../images/message.png';\r\nimport discoverImage from '../images/location.png';\r\nimport Cookies from 'js-cookie';\r\nimport jwtDecode from 'jwt-decode';\r\nimport axios from 'axios';\r\nimport '../App.css';\r\n\r\nconst MainPage = (props) => {\r\n  \r\n  const [user, setUser] = useState(\"\");\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect( () => {\r\n    const userToken = Cookies.get('userToken');\r\n    if (userToken) {\r\n      const user = jwtDecode(userToken);\r\n      setUser(user);\r\n    }\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    axios.post(`http://localhost:8000/api/users/logout`, {}, {withCredentials: true})\r\n      .then( (res) => {\r\n        Cookies.remove('userToken');\r\n        setUser('null')\r\n        navigate('/')\r\n      })\r\n      .catch(err=>console.log('Logout Error', err));\r\n  }\r\n\r\n  return (\r\n    <>\r\n\r\n    <div className='div' >\r\n    <Link to={`/profile/${user._id}`}>\r\n      <img src={profileImage} alt=\"profile pic\" className=\"image\" />\r\n    </Link>\r\n    <label >Profile</label>\r\n    </div>\r\n\r\n    <div className='div'>\r\n    <a href=\"/app/info\">\r\n      <img src={infoLogo} alt=\"info logo pic\" className=\"image\" />\r\n    </a>\r\n    <label>Information</label>\r\n    </div>\r\n\r\n    <div className='div'>\r\n    <Link to={`/barchat/${user._id}`}>\r\n      <img src={messageImage} alt=\"message pic\" className=\"image\" />\r\n    </Link>\r\n    <label>Chat </label>\r\n    </div>\r\n\r\n    <div className='div'>\r\n      <Link to={`/discover/${user._id}`}>\r\n        <img src={discoverImage} alt=\"discover pic\" className=\"image\" />\r\n      </Link>\r\n\r\n    </div>\r\n    \r\n\r\n    {user ? <div>\r\n      <p>Welcome back {user.name} </p>\r\n      <button onClick={handleLogout}>Logout</button>\r\n    </div>\r\n    : <div>\r\n      <p>No one is here</p>\r\n    </div>}\r\n    \r\n    </>\r\n  )\r\n}\r\n\r\nexport default MainPage;\r\n\r\n\r\n\r\n//Image source: <a href=\"https://www.flaticon.com/free-icons/info\" title=\"info icons\">Info icons created by th studio - Flaticon</a>"],"mappings":"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"},"metadata":{},"sourceType":"module"}